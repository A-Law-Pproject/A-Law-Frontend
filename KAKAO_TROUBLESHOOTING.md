# 카카오 로그인 실패 문제 해결 가이드

## 🔍 문제 진단 체크리스트

### ✅ 1. JavaScript 키 확인
- [ ] `.env` 파일에 JavaScript 키가 정확히 입력되었나요?
- [ ] 키 앞뒤에 공백이 없나요?
- [ ] 따옴표 없이 입력했나요?

```env
# ❌ 잘못된 예시
VITE_KAKAO_APP_KEY="your_key_here"
VITE_KAKAO_APP_KEY= your_key_here

# ✅ 올바른 예시
VITE_KAKAO_APP_KEY=your_key_here
```

### ✅ 2. 플랫폼 등록 (매우 중요!)

카카오 개발자 콘솔에서:

1. **내 애플리케이션** > 앱 선택
2. 왼쪽 메뉴: **앱 설정** > **플랫폼**
3. **Web 플랫폼이 등록되어 있나요?**

**등록 방법:**
- **Web 플랫폼 등록** 버튼 클릭
- 사이트 도메인 입력: `http://localhost:5173`
- **저장** 클릭

⚠️ **주의사항:**
- `http://`를 반드시 포함해야 합니다
- 포트 번호(5173)를 정확히 입력해야 합니다
- 만약 다른 포트를 사용한다면 해당 포트 번호 입력

### ✅ 3. 카카오 로그인 활성화

1. 왼쪽 메뉴: **제품 설정** > **카카오 로그인**
2. **활성화 설정**이 **ON**으로 되어 있나요?

**활성화 방법:**
- 상단의 토글 스위치를 **ON**으로 변경
- 변경사항 자동 저장됨

### ✅ 4. Redirect URI 등록

같은 **카카오 로그인** 페이지에서:

1. 아래로 스크롤하여 **Redirect URI** 섹션 찾기
2. **Redirect URI가 등록되어 있나요?**

**등록 방법:**
- **Redirect URI 등록** 버튼 클릭
- `http://localhost:5173` 입력
- **저장** 클릭

⚠️ **매우 중요:**
- 플랫폼과 동일한 주소여야 합니다
- 슬래시(/)는 넣지 마세요
- 예: `http://localhost:5173` ✅
- 예: `http://localhost:5173/` ❌

### ✅ 5. 개발 서버 재시작

`.env` 파일을 수정했다면 반드시 서버를 재시작해야 합니다.

```bash
# 터미널에서 Ctrl + C로 서버 종료
# 그 다음 다시 시작
npm run dev
```

### ✅ 6. 브라우저 캐시 삭제

때로는 브라우저 캐시 때문에 문제가 발생할 수 있습니다.

**크롬 기준:**
1. `Ctrl + Shift + Delete` 누르기
2. "캐시된 이미지 및 파일" 체크
3. "인터넷 사용 기록 삭제" 클릭

또는:

1. 시크릿 모드로 테스트: `Ctrl + Shift + N`
2. `http://localhost:5173/mypage` 접속
3. 로그인 시도

---

## 🐛 흔한 에러 메시지별 해결법

### 에러 1: "KakaoError: invalid app key"
**원인:** JavaScript 키가 잘못되었습니다.

**해결:**
1. 카카오 개발자 콘솔에서 JavaScript 키 다시 복사
2. `.env` 파일에 정확히 붙여넣기
3. 서버 재시작

### 에러 2: "KakaoError: redirect uri mismatch"
**원인:** Redirect URI가 등록되지 않았거나 주소가 다릅니다.

**해결:**
1. 카카오 개발자 콘솔 > 카카오 로그인
2. Redirect URI에 `http://localhost:5173` 정확히 등록
3. 브라우저 주소창의 주소와 일치하는지 확인

### 에러 3: "KakaoError: platform error"
**원인:** Web 플랫폼이 등록되지 않았습니다.

**해결:**
1. 카카오 개발자 콘솔 > 앱 설정 > 플랫폼
2. Web 플랫폼에 `http://localhost:5173` 등록

### 에러 4: "Kakao SDK not loaded"
**원인:** 카카오 SDK가 로드되지 않았습니다.

**해결:**
1. 브라우저 새로고침 (F5)
2. `index.html`에 SDK 스크립트가 있는지 확인
3. 인터넷 연결 확인

### 에러 5: 팝업이 차단됨
**원인:** 브라우저가 팝업을 차단했습니다.

**해결:**
1. 주소창 오른쪽의 팝업 차단 아이콘 클릭
2. "localhost의 팝업 허용" 선택
3. 다시 로그인 시도

---

## 📋 최종 체크리스트

다음 항목들을 모두 확인했다면 작동해야 합니다:

- [ ] JavaScript 키를 `.env` 파일에 정확히 입력
- [ ] Web 플랫폼에 `http://localhost:5173` 등록
- [ ] 카카오 로그인 활성화 ON
- [ ] Redirect URI에 `http://localhost:5173` 등록
- [ ] 개발 서버 재시작 (`npm run dev`)
- [ ] 브라우저 캐시 삭제 또는 시크릿 모드 사용
- [ ] 브라우저 팝업 허용

---

## 🆘 여전히 안 되나요?

다음 정보를 확인해주세요:

1. **브라우저 콘솔 에러 메시지** (F12 > Console 탭)
2. **현재 접속 중인 URL** (주소창에 표시된 주소)
3. **카카오 개발자 콘솔에서 확인한 것들:**
   - JavaScript 키 앞 4자리
   - 등록된 플랫폼 주소
   - 등록된 Redirect URI
   - 카카오 로그인 활성화 여부

이 정보들을 가지고 문제를 해결할 수 있습니다.
